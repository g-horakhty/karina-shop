<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karina Shop | Pedido Online</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* --- ESTILOS VISUAIS (Identidade Karina Shop) --- */
        :root { --bg-body: #fff9f6; --bg-arch: #f7c5ba; --text-brown: #8a5a44; --text-body: #5a5a5a; --white: #ffffff; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Lato', sans-serif; background-color: var(--bg-body); color: var(--text-body); padding-bottom: 80px; }
        .cursive { font-family: 'Dancing Script', cursive; font-weight: 700; }
        
        /* Header e Arcos */
        header { background-color: var(--white); padding: 20px 0; text-align: center; }
        .logo { font-size: 3rem; color: var(--text-brown); }
        .arches-section { background-color: var(--white); padding: 20px 20px 60px; display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
        .arch-card { width: 220px; height: 300px; background-color: var(--bg-arch); border-radius: 110px 110px 0 0; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px; text-decoration: none; transition: 0.3s; color: white; }
        .arch-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(138, 90, 68, 0.2); }
        .arch-image { width: 100%; height: 50%; object-fit: cover; margin-bottom: 10px; border-radius: 50%; border: 3px solid white; }
        .intro-text { background-color: var(--white); padding: 0 20px 40px; text-align: center; max-width: 800px; margin: 0 auto; }
        
        /* Menu */
        .pink-nav { background-color: var(--bg-arch); padding: 15px 0; margin-bottom: 40px; position: sticky; top: 0; z-index: 100; }
        .pink-nav ul { display: flex; justify-content: center; list-style: none; gap: 30px; flex-wrap: wrap; }
        .pink-nav a { text-decoration: none; color: var(--white); font-weight: 700; text-transform: uppercase; }

        /* Produtos */
        .container { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
        .section-header { text-align: left; margin-bottom: 30px; border-bottom: 2px solid #eee; }
        .big-title { font-size: 3rem; color: var(--text-brown); }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(400px, 1fr)); gap: 30px; margin-bottom: 50px; }
        
        .product-card { background: var(--white); border: 1px solid #eee; display: flex; height: 220px; overflow: hidden; }
        .p-info { padding: 20px; flex: 1; display: flex; flex-direction: column; justify-content: center; }
        .p-img { width: 180px; object-fit: cover; background: #eee; }
        .p-title { color: var(--text-brown); font-size: 1.4rem; margin-bottom: 5px; }
        .p-desc { font-size: 0.85rem; color: #666; margin-bottom: 10px; }
        .p-price { font-weight: bold; color: #555; font-size: 1.1rem; }
        
        /* BotÃ£o Adicionar */
        .btn-add {
            background-color: var(--bg-arch); color: white; border: none; padding: 8px 15px; 
            border-radius: 20px; cursor: pointer; margin-top: 10px; font-weight: bold; width: fit-content;
            transition: 0.2s;
        }
        .btn-add:hover { background-color: #eebbba; transform: scale(1.05); }

        /* --- CARRINHO FLUTUANTE --- */
        .cart-btn-float {
            position: fixed; bottom: 30px; right: 30px;
            background-color: #25D366; /* Cor do WhatsApp */
            color: white; padding: 15px 25px; border-radius: 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            font-weight: bold; cursor: pointer; z-index: 1000;
            display: flex; align-items: center; gap: 10px; font-size: 1.1rem;
            transition: 0.3s;
        }
        .cart-btn-float:hover { transform: scale(1.1); }
        .cart-count { background: red; color: white; padding: 2px 8px; border-radius: 50%; font-size: 0.8rem; }

        /* --- MODAL DO CARRINHO --- */
        .cart-modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 2000;
            justify-content: center; align-items: center;
        }
        .cart-box {
            background: white; width: 90%; max-width: 500px; padding: 30px;
            border-radius: 15px; position: relative; max-height: 80vh; overflow-y: auto;
        }
        .close-cart { position: absolute; top: 15px; right: 20px; font-size: 1.5rem; cursor: pointer; color: #aaa; }
        
        .cart-item { display: flex; justify-content: space-between; border-bottom: 1px solid #eee; padding: 10px 0; }
        .cart-total { font-size: 1.5rem; font-weight: bold; text-align: right; margin-top: 20px; color: var(--text-brown); }
        
        .btn-whatsapp {
            background-color: #25D366; color: white; width: 100%; padding: 15px;
            border: none; border-radius: 10px; font-size: 1.1rem; font-weight: bold;
            margin-top: 20px; cursor: pointer; text-transform: uppercase;
        }

        @media (max-width: 768px) {
            .product-card { height: auto; flex-direction: column-reverse; }
            .p-img { width: 100%; height: 200px; }
            .cart-btn-float { bottom: 20px; right: 20px; padding: 12px 20px; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo cursive">Karina Shop</div>
    </header>

    <nav class="pink-nav">
        <ul>
            <li><a href="#cat-bolos">Bolos Naked</a></li>
            <li><a href="#cat-bento">Bento Cake</a></li>
            <li><a href="#cat-sobremesas">Sobremesas</a></li>
            <li><a href="#cat-congelados">Congelados</a></li>
        </ul>
    </nav>

    <div class="container" id="main-content">
        </div>
    
    <div style="height: 100px;"></div>

    <div class="cart-btn-float" onclick="toggleCart()">
        ðŸ›’ Ver Carrinho <span class="cart-count" id="cart-count">0</span>
    </div>

    <div class="cart-modal" id="cart-modal">
        <div class="cart-box">
            <span class="close-cart" onclick="toggleCart()">&times;</span>
            <h2 class="cursive" style="color: var(--text-brown); margin-bottom: 20px;">Seu Pedido</h2>
            
            <div id="cart-items-list">
                <p style="text-align:center; color:#999">Seu carrinho estÃ¡ vazio.</p>
            </div>

            <div class="cart-total" id="cart-total-value">Total: R$ 0,00</div>
            
            <button class="btn-whatsapp" onclick="checkoutWhatsApp()">
                Enviar Pedido no WhatsApp ðŸ“±
            </button>
        </div>
    </div>

    <script>
        // --- CONFIGURAÃ‡ÃƒO ---
        const whatsappNumber = "5514999999999"; // <--- COLOQUE O NÃšMERO AQUI (Ex: 5514999999999)
        // --------------------

        // DADOS DOS PRODUTOS (Isso serÃ¡ editado pelo Admin)
        const products = [
            {
                "id": 1,
                "name": "Ninho & Nutella",
                "category": "bolos",
                "price": "195,00",
                "desc": "Massa molhadinha com Ninho e Nutella pura.",
                "img": "bolo_ninho.jpg"
            },
            {
                "id": 2,
                "name": "Bento Flork",
                "category": "bento",
                "price": "45,00",
                "desc": "Bolinho na marmita com frase divertida.",
                "img": "bento.jpg"
            }
        ];

        let cart = [];

        // Inicializar Loja
        function renderStore() {
            const container = document.getElementById('main-content');
            container.innerHTML = '';
            
            const categories = [
                { id: 'bolos', title: 'Bolos Naked' },
                { id: 'bento', title: 'Bento Cakes' },
                { id: 'sobremesas', title: 'Sobremesas' },
                { id: 'congelados', title: 'Linha Congelados' }
            ];

            categories.forEach(cat => {
                const catProducts = products.filter(p => p.category === cat.id);
                if (catProducts.length > 0) {
                    container.innerHTML += `
                        <div id="cat-${cat.id}" style="margin-bottom: 50px;">
                            <div class="section-header"><h2 class="cursive big-title">${cat.title}</h2></div>
                            <div class="product-grid">
                                ${catProducts.map(p => `
                                    <div class="product-card">
                                        <div class="p-info">
                                            <h3 class="cursive p-title">${p.name}</h3>
                                            <p class="p-desc">${p.desc}</p>
                                            <div class="p-price">R$ ${p.price}</div>
                                            <button class="btn-add" onclick="addToCart(${p.id})">+ Adicionar</button>
                                        </div>
                                        <img src="img/${p.img}" class="p-img" onerror="this.src='https://placehold.co/200?text=Sem+Foto'">
                                    </div>
                                `).join('')}
                            </div>
                        </div>`;
                }
            });
        }

        // FunÃ§Ãµes do Carrinho
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            updateCartUI();
            
            // Feedback visual simples
            const btn = event.target;
            let originalText = btn.innerText;
            btn.innerText = "âœ” Adicionado";
            btn.style.background = "#25D366";
            setTimeout(() => {
                btn.innerText = originalText;
                btn.style.background = ""; 
            }, 1000);
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartUI();
        }

        function updateCartUI() {
            // Atualiza bolinha vermelha
            document.getElementById('cart-count').innerText = cart.length;

            // Atualiza lista do Modal
            const list = document.getElementById('cart-items-list');
            list.innerHTML = '';
            let total = 0;

            if(cart.length === 0) {
                list.innerHTML = '<p style="text-align:center; color:#999; padding:20px;">Seu carrinho estÃ¡ vazio.</p>';
            } else {
                cart.forEach((item, index) => {
                    // Converter preÃ§o string "195,00" para float 195.00
                    let priceNum = parseFloat(item.price.replace(',', '.'));
                    total += priceNum;

                    list.innerHTML += `
                        <div class="cart-item">
                            <div>
                                <strong>${item.name}</strong><br>
                                <small>R$ ${item.price}</small>
                            </div>
                            <button onclick="removeFromCart(${index})" style="background:none; border:none; color:red; font-weight:bold; cursor:pointer;">X</button>
                        </div>
                    `;
                });
            }

            document.getElementById('cart-total-value').innerText = `Total: R$ ${total.toFixed(2).replace('.', ',')}`;
        }

        function toggleCart() {
            const modal = document.getElementById('cart-modal');
            modal.style.display = modal.style.display === 'flex' ? 'none' : 'flex';
        }

        function checkoutWhatsApp() {
            if(cart.length === 0) return alert("Seu carrinho estÃ¡ vazio!");

            let message = "*NOVO PEDIDO - KARINA SHOP* ðŸŽ‚\n\n";
            let total = 0;

            cart.forEach(item => {
                message += `â–ª ${item.name} - R$ ${item.price}\n`;
                total += parseFloat(item.price.replace(',', '.'));
            });

            message += `\n*TOTAL: R$ ${total.toFixed(2).replace('.', ',')}*`;
            message += `\n\n------------------------------\nAguardo confirmaÃ§Ã£o e forma de pagamento!`;

            const url = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }

        renderStore();
    </script>
</body>
</html>
